@using System.Data.Entity
@using MyEventPlan.Data.DataContext.DataContext
@model Event.Data.Objects.Entities.Vendor
@{
    Layout = "../Shared/Layout/_LayoutAppTheme.cshtml";
    var db = new EventDataContext();
    var allVendors = db.Vendors.OrderByDescending(n => n.AverageRating).ToList();
    var countedVendors = allVendors.Take(6);

    var allPlanners = db.EventPlanners.Include(m => m.Location).ToList();
    var countedPlanners = allPlanners.Take(3);


}
<div class="slider-bg">
    <!-- slider start-->
    <div id="slider" class="owl-carousel owl-theme slider">
        <div class="item slider-shade">
            <img src="~/Content/Dashboard/images/slider-1.jpg" alt="Wedding couple just married"/>
        </div>
        <div class="item slider-shade">
            <img src="~/Content/Dashboard/images/slider-2.jpg" alt="Wedding couple just married"/>
        </div>
        <div class="item slider-shade">

            <img src="~/Content/Dashboard/images/slider-3.jpg" alt="Wedding couple just married"/>
        </div>
    </div>
    <div class="find-section">
        <!-- Find search section-->
        <div class="container">
            <div class="row">
                <div class="col-md-offset-1 col-md-10 finder-block">
                    <div class="finder-caption">
                        <h1>Find your perfect Wedding Vendor</h1>
                        <p>
                            Over <strong>1200+ Wedding Vendor </strong>for you special date &amp; Find the perfect venue &amp; save you date.
                        </p>
                    </div>
                    <div class="finder-form-transparent">
                        @using (Html.BeginForm("ListOfVendors", "Vendors", FormMethod.Post, new {enctype = "multipart/form-data"}))
                        {
                            <div class="row">
                                <div class="form-group col-md-4">
                                    @Html.DropDownListFor(m => m.VendorServiceId, null, "Select Vendor Service", new {@class = "form-control"})
                                    @Html.ValidationMessageFor(model => model.VendorServiceId, "", new {@class = "text-danger"})
                                </div>
                                <div class="form-group col-md-4">
                                            @Html.DropDownListFor(m => m.LocationId, null, "Select Vendor Location", new {@class = "form-control"})
                                            @Html.ValidationMessageFor(model => model.LocationId, "", new {@class = "text-danger"})
                                    </div>
                                <div class="form-group col-md-4">
                                    <input type="submit" value="Find Vendors" id="findvendors" class="btn btn-primary btn-lg btn-block"/>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /.Find search section-->
</div>
<!-- slider end-->
<div class="section-space80">
    <!-- Feature Blog Start -->
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="section-title mb60 text-center">
                    <h1>Plan your wedding one step at a time</h1>
                    <p>Simple wedding planning tools to help you stay on track. </p>
                </div>
            </div>
        </div>
        <div class="row">
            <!-- feature center -->
            <div class="col-md-3">
                <div class="feature-block feature-center mb30">
                    <!-- feature block -->
                    <div class="feature-icon">
                        <i class="icon icon-size-60 icon-calendar icon-default"></i>
                    </div>
                    <h2>Checklist</h2>
                    <p>Get your planning sorted with our free wedding planning checklist!</p>
                </div>
            </div>
            <!-- /.feature block -->
            <div class="col-md-3">
                <div class="feature-block feature-center mb30">
                    <!-- feature block -->
                    <div class="feature-icon">
                        <i class="icon icon-size-60 icon-budget icon-default"></i>
                    </div>
                    <h2>Budget Planner</h2>
                    <p>Budget estimator tool that lets you specify your program plan.</p>
                </div>
            </div>
            <!-- /.feature block -->
            <div class="col-md-3">
                <div class="feature-block feature-center mb30">
                    <!-- feature block -->
                    <div class="feature-icon">
                        <i class="icon icon-size-60 icon-group icon-default"></i>
                    </div>
                    <h2>Guest list</h2>
                    <p>Build your free wedding guest list, collect mailing addresses and RSVPs.</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="feature-block feature-center mb30">
                    <!-- feature block -->
                    <div class="feature-icon">
                        <i class="icon icon-size-60 icon-table icon-default"></i>
                    </div>
                    <h2>Table Planer</h2>
                    <p>Easy online tool for creating seating arrangements for weddings.</p>
                </div>
            </div>
            <!-- /.feature block -->
        </div>
        <!-- /.feature center -->
        <div class="row">
            <div class="col-md-12 text-center">
                <a href="#" class="btn btn-primary">Get Started</a>
            </div>
        </div>
    </div>
</div>
<!-- Feature Blog End -->
<div class="section-space80 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="section-title mb60 text-center">
                    <h1>More than 2,000 Wedding Vendors</h1>
                    <p> Donec sagittis blandit ex consequat pulvin ondimentum tortor eitae suscipit augupibus </p>
                </div>
            </div>
        </div>
        <div class="row">
            @foreach (var item in countedVendors)
            {
                <div class="col-md-4">
                    <div class="vendor-total-list mb30">
                        <!-- vendor-total-list -->
                        <div class="vendor-total-thumb">
                            <!-- vendor-total-thumb -->
                            <a href="@Url.Action("Details", "Vendors", new {id = item.VendorId})">
                                <img src="~/UploadedFiles/VendorLogo/@item.Logo" class="img-responsive" alt="" height="360px" width="250px">
                            </a>
                        </div>
                        <!-- /.vendor-total-thumb -->
                        <div class="well-box vendor-total-info">
                            <!-- vendor-total-info -->
                            <h2 class="vendor-total-title">
                                <a href="@Url.Action("Details", "Vendors", new {id = item.VendorId})" class="title">@item.Name </a><span class="badge badge-primary"></span>
                            </h2>
                        </div>
                        <!-- /.vendor-total-info -->
                    </div>
                    <!-- /.vendor-total-list -->
                </div>
            }

        </div>
        <div class="row">
            <div class="col-md-12 text-center">
                <a href="@Url.Action("ListOfVendors", "Vendors")" class="btn btn-default btn-lg">View All Vendor</a>
            </div>
        </div>
    </div>
</div>
<div class="section-space80">
    <!-- Real Weddings -->
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="section-title mb60 text-center">
                    <h1>Be inspired by the Best Event Planners</h1>
                    <p>Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text.</p>
                </div>
            </div>
        </div>
        <div class="row">
            @foreach (var item in countedPlanners)
            {
                <div class="col-md-4">
                    <div class="real-wedding-block mb30">
                        <!-- real wedding block -->
                        <div class="real-wedding-img">
                            <a href="@Url.Action("EventPlannerDetails", "EventPlanners", new {id = item.EventPlannerId})">
                                <img src="~/UploadedFiles/EventPlannerLogo/@item.Logo" alt="" class="img-responsive">
                            </a>
                        </div>
                        <div class="real-wedding-info well-box text-center">
                            <h2 class="real-wedding-title">
                                <a href="#" class="title">@item.Name</a>
                            </h2>
                            @*<p class="real-wed-meta">
                                <span class="wed-day-meta"><i class="icon-wedding-day icon-size-18"></i> 5 june,2016</span> <span class="wed-location-meta"> <i class="icon-wedding-location icon-size-18"></i> Surat, @item.Mobile</span>
                            </p>*@
                        </div>
                    </div>
                    <!-- /.real wedding block -->
                </div>
            }

        </div>
        <div class="row">
            <div class="col-md-12 text-center">
                <a href="#" class="btn btn-default btn-lg">View More Event Plannners</a>
            </div>
        </div>
    </div>
</div>
<!-- /.Real Weddings -->
<section class="module parallax parallax-2">
    <div class="container">
        <div class="row">
            <div class="col-md-offset-2 col-md-8 parallax-caption">
                <h2>Are you trying our planning tools ?</h2>
                <p>Donec sagittis blandit ex consequat pulvinm condimentum tortor lorem ipsum oleo sit ament eitae suscipit augupibus. </p>
                <a href="#" class="btn btn-primary">Start Planning Today</a>
            </div>
        </div>
    </div>
</section>
<div class="section-space80 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="section-title mb60 text-center">
                    <h1>Most Reason to Why Choose us</h1>
                    <p>Donec sagittis blandit ex consequat pulvinm condimentum tortor eitae suscipit augupibus </p>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                <div class="well-box feature-block text-center">
                    <div class="feature-icon">
                        <i class="icon-heart-4 icon-size-60 icon-light"></i>
                    </div>
                    <div class="feature-info">
                        <h3>20 Years Experiance</h3>
                        <p>We are never short of suggestions or inspiring ideas.We will support you and advise you.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="well-box feature-block text-center">
                    <div class="feature-icon">
                        <i class="icon-newly-married-couple icon-size-60 icon-light"></i>
                    </div>
                    <div class="feature-info">
                        <h3>100 real weddings</h3>
                        <p>Every wedding is unique and has a special story. Share all the details of your special moments.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="well-box feature-block text-center">
                    <div class="feature-icon">
                        <i class="icon-curtains icon-size-60 icon-light"></i>
                    </div>
                    <div class="feature-info">
                        <h3>1500 + Wedding Suppliers</h3>
                        <p> Sed semper sapien commodo iaculis nec quis lacus malesuada, icula tortor. ut turpiliquepellentesque. </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@section scripts{
    <script>
        $(window)
            .load(function() {
                $(function() {
                    $("#category")
                        .change(function() {
                            if ($("#category").val() === "0") {
                                $("#findvendors").prop("disabled", true);
                                console.log($("#service").val());
                            } else
                                $("#findvendors").prop("disabled", false);
                        });
                    $("#service")
                        .change(function() {
                            if ($("#service").val() === "0") {
                                $("#findvendors").prop("disabled", true);
                            } else
                                $("#findvendors").prop("disabled", false);
                        });
                });
            });
    </script>
}