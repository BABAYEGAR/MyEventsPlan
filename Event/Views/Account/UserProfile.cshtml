@using Event.Data.Objects.Entities
@model AppUser
@{
    ViewBag.Title = "Profile";
    ViewBag.Header = "My Profile Details";
    Layout = "../Shared/_LayoutForm.cshtml";
    var reset = new PasswordReset();
}
<style>
    .user-row { margin-bottom: 14px; }

    .user-row:last-child { margin-bottom: 0; }

    .dropdown-user {
        height: 100%;
        margin: 13px 0;
        padding: 5px;
    }

    .dropdown-user:hover { cursor: pointer; }

    .table-user-information > tbody > tr { border-top: none; }

    .table-user-information > tbody > tr:first-child { border-top: 0; }


    .table-user-information > tbody > tr > td { border-top: 0; }

    .shift { margin-left: 20px; }

    .toppad { margin-top: 20px; }

</style>

<div class="col-md-6  toppad  pull-right col-md-offset-6 ">
    <p class=" text-info">@DateTime.Now</p>
</div>
<div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xs-offset-3 col-sm-offset-3 col-md-offset-6 col-lg-offset-6 toppad">


    <div class="panel panel-info">
        <div class="panel-heading">
            <h3 class="panel-title">@Model.DisplayName</h3>
        </div>
        <div class="panel-body">
            <div class="row">
                <div class="col-md-3 col-lg-3 " align="center">
                    <img alt="User Pic" src="http://babyinfoforyou.com/wp-content/uploads/2014/10/avatar-300x300.png" class="img-circle img-responsive">
                </div>
                <div class="col-md-6 col-lg-9 col-md-offset-9 shift">
                    <table class="table table-user-information">
                        <tbody>
                        <tr>
                            <td>Email:</td>
                            <td>@Model.Email</td>
                        </tr>
                        <tr>
                            <td>Mobile:</td>
                            <td>@Model.Mobile</td>
                        </tr>
                        @*<tr>
                                    <td>Date of Birth</td>
                                    <td>01/24/1988</td>
                                </tr>*@

                        @*<tr>
                                    <tr>
                                        <td>Gender</td>
                                        <td>Female</td>
                                    </tr>
                                    <tr>
                                        <td>Home Address</td>
                                        <td>Kathmandu,Nepal</td>
                                    </tr>
                                    <tr>
                                        <td>Email</td>
                                        <td><a href="mailto:info@support.com">info@support.com</a></td>
                                    </tr>
                                    <td>Phone Number</td>
                                    <td>
                                        123-4567-890(Landline)<br><br>555-4567-890(Mobile)
                                    </td>

                                </tr>*@

                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="panel-footer">
            <a data-original-title="Broadcast Message" data-toggle="tooltip" type="button" class="btn btn-sm btn-primary">
                <i class="icon-envelope"></i>
            </a>
            <span class="pull-right">
                            <!-- Button trigger modal -->
                            <button type="button"  class="btn btn-primary" data-toggle="modal" data-target="#myModal">
                                <i class="icon-pencil"></i>
                        </button>

                        <!-- Modal -->
                        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                        <h4 class="modal-title" id="myModalLabel">Edit Profile Data</h4>
                                    </div>
                                    <div class="modal-body">
                                        @{
                                            Html.RenderPartial("EditUserModal", Model);
                                        }
                                    </div>
                                </div>
                            </div>

                        </div>
                <!-- Button trigger modal -->
                <button type="button" class="btn btn-warning" data-toggle="modal" data-target="#myModal1">
                    <i class="icon-key"></i>
                </button>

                <!-- Modal -->
                <div class="modal fade" id="myModal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel1">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                                <h4 class="modal-title" id="myModalLabel1">Change Password</h4>
                            </div>
                            <div class="modal-body">
                                @{
                                    Html.RenderPartial("ChangePasswordModal",reset);
                                }
                            </div>
                        </div>
                    </div>

                </div>



                    </span>
        </div>

    </div>
</div>
<script>
    $(document)
        .ready(function() {
            var panels = $('.user-infos');
            var panelsButton = $('.dropdown-user');
            panels.hide();

            //Click dropdown
            panelsButton.click(function() {
                //get data-for attribute
                var dataFor = $(this).attr('data-for');
                var idFor = $(dataFor);

                //current button
                var currentButton = $(this);
                idFor.slideToggle(400,
                    function() {
                        //Completed slidetoggle
                        if (idFor.is(':visible')) {
                            currentButton.html('<i class="glyphicon glyphicon-chevron-up text-muted"></i>');
                        } else {
                            currentButton.html('<i class="glyphicon glyphicon-chevron-down text-muted"></i>');
                        }
                    });
            });


            $('[data-toggle="tooltip"]').tooltip();
        });
</script>