@model Event.Data.Objects.Entities.Event
@{
    ViewBag.Title = "Create";
    ViewBag.Header = "Create a new event";
    Layout = "../Shared/_LayoutForm.cshtml";
}
@section css{
<link href="~/Content/bootstrap-datetimepicker.css" rel="stylesheet" />
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
}
@using (Html.BeginForm("Create", "Events", FormMethod.Post, new {enctype = "multipart/form-data", @class = "form-horizontal row-fluid"}))
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true, "", new {@class = "text-danger"})
    <div class="control-group">
        @Html.LabelFor(model => model.Name, new {@class = "control-label"})
        <div class="controls">
            @Html.EditorFor(model => model.Name, new {htmlAttributes = new {@class = "span8"}})
            @Html.ValidationMessageFor(model => model.Name, "", new {@class = "text-danger"})
        </div>
    </div>

    <div class="control-group">
        @Html.LabelFor(model => model.Color, new {@class = "control-label"})
        <div class="controls">
            @Html.EditorFor(model => model.Color, new {htmlAttributes = new {@class = "span8 jscolor {valueElement:null}" } })
            @Html.ValidationMessageFor(model => model.Color, "", new {@class = "text-danger"})
        </div>
    </div>

    <div class="control-group">
        @Html.LabelFor(model => model.EventTypeId, "EventTypeId", new {@class = "control-label"})
        <div class="controls">
            @Html.DropDownList("EventTypeId", null, new {@class = "span8"})
            @Html.ValidationMessageFor(model => model.EventTypeId, "", new {@class = "text-danger"})
        </div>
    </div>

    <div class="control-group">
        @Html.LabelFor(model => model.TargetBudget, new {@class = "control-label"})
        <div class="controls">
            @Html.EditorFor(model => model.TargetBudget, new {htmlAttributes = new {@class = "span8"}})
            @Html.ValidationMessageFor(model => model.TargetBudget, "", new {@class = "text-danger"})
        </div>
    </div>

    <div class="control-group">
        @Html.LabelFor(model => model.StartDate, new {@class = "control-label"})
        <div class="controls">
            @Html.EditorFor(model => model.StartDate, new {htmlAttributes = new {@class = "span8 startDate",id = "datetimepicker6" } })
            @Html.ValidationMessageFor(model => model.StartDate, "", new {@class = "text-danger"})
        </div>
    </div>
    <div class="control-group">
        @Html.LabelFor(model => model.EndDate, new {@class = "control-label"})
        <div class="controls">
            @Html.EditorFor(model => model.EndDate, new {htmlAttributes = new {@class = "span8 endDate",id = "datetimepicker7" } })
            @Html.ValidationMessageFor(model => model.EndDate, "", new {@class = "text-danger"})
        </div>
    </div>
    <div class="control-group">
        @Html.LabelFor(model => model.StartTime, new {@class = "control-label"})
        <div class="controls">
            @Html.EditorFor(model => model.StartTime, new {htmlAttributes = new {@class = "span8 timepicker"}})
            @Html.ValidationMessageFor(model => model.StartTime, "", new {@class = "text-danger"})
        </div>
    </div>


    <div class="control-group">
        @Html.LabelFor(model => model.EndTime, new {@class = "control-label"})
        <div class="controls">
            @Html.EditorFor(model => model.EndTime, new {htmlAttributes = new {@class = "span8 timepicker"}})
            @Html.ValidationMessageFor(model => model.EndTime, "", new {@class = "text-danger"})
        </div>
    </div>


    <div class="control-group">
        <div class="controls">
            <input type="submit" value="Create Event" class="btn btn-default"/>
        </div>
    </div>
}
@section scripts
{
<script src="~/Scripts/moment.min.js"></script>
<script src="~/Scripts/bootstrap-datetimepicker.js"></script>
    <script src="~/Scripts/jscolor.min.js"></script>
<script type="text/javascript">
    $(function () {
        $('#datetimepicker6').datetimepicker();
        $('#datetimepicker7').datetimepicker({
            useCurrent: false //Important! See issue #1075
        });
        $("#datetimepicker6").on("dp.change", function (e) {
            $('#datetimepicker7').data("DateTimePicker").minDate(e.date);
        });
        $("#datetimepicker7").on("dp.change", function (e) {
            $('#datetimepicker6').data("DateTimePicker").maxDate(e.date);
        });
    });
</script>
}